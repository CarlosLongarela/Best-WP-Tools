{% set page_title = "Web Servers" -%}
{% set section = "web-server" -%}

{% include "partials/header.njk" %}

			<h1>{% raw %}{{msg_webservers}}{% endraw %}</h1>

			<div id="slider_apache_nginx">
				Apache
				<label class="switch">
					<input id="check_apache_nginx" type="checkbox">
					<span class="slider round"></span>
				</label>
				Nginx
			</div>

			{# Apache Blocks #}
			<div id="apache_div" style="display:block">

				<h2 class="title_textarea">{% raw %}{{msg_basic_htaccess}}{% endraw %}</h2>
				<img src="../img/copy.png" width="16" height="16" class="icon_copy copy_text" data-id2copy="basic_apache" title="{% raw %}{{msg_text_copy}}{% endraw %}" />
<textarea id="basic_apache" class="code" readonly>
# BEGIN WordPress
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /
    RewriteRule ^index\.php$ - [L]
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule . /index.php [L]
</IfModule>
# END WordPress</textarea>

				<h2 class="title_textarea">{% raw %}{{msg_gzip}}{% endraw %}</h2>
				<img src="../img/copy.png" width="16" height="16" class="icon_copy copy_text" data-id2copy="gzip_apache" title="{% raw %}{{msg_text_copy}}{% endraw %}" />
<textarea id="gzip_apache" class="code" readonly>
<ifModule mod_gzip.c>
    mod_gzip_on Yes
    mod_gzip_dechunk Yes
    mod_gzip_item_include file .(html?|txt|css|js|php|pl)$
    mod_gzip_item_include handler ^cgi-script$
    mod_gzip_item_include mime ^text/.*
    mod_gzip_item_include mime ^application/x-javascript.*
    mod_gzip_item_exclude mime ^image/.*
    mod_gzip_item_exclude rspheader ^Content-Encoding:.*gzip.*
</ifModule></textarea>

				<h2 class="title_textarea">{% raw %}{{msg_deflate}}{% endraw %}</h2>
				<img src="../img/copy.png" width="16" height="16" class="icon_copy copy_text" data-id2copy="deflate_apache" title="{% raw %}{{msg_text_copy}}{% endraw %}" />
<textarea id="deflate_apache" class="code" readonly>
AddOutputFilterByType DEFLATE text/plain
AddOutputFilterByType DEFLATE text/html
AddOutputFilterByType DEFLATE text/xml
AddOutputFilterByType DEFLATE text/css
AddOutputFilterByType DEFLATE application/xml
AddOutputFilterByType DEFLATE application/xhtml+xml
AddOutputFilterByType DEFLATE application/rss+xml
AddOutputFilterByType DEFLATE application/javascript
AddOutputFilterByType DEFLATE application/x-javascript</textarea>

			<h2 class="title_textarea">{% raw %}{{msg_bad_bots}}{% endraw %}</h2>
			<img src="../img/copy.png" width="16" height="16" class="icon_copy copy_text" data-id2copy="bad_bots_apache" title="{% raw %}{{msg_text_copy}}{% endraw %}" />
<textarea id="bad_bots_apache" class="code" readonly>
{% include "includes/apache-rules-bad-bots.njk" -%}
</textarea>
			</div>

			{# Nginx Blocks #}
			<div id="nginx_div" style="display:none">
					<h2 class="title_textarea">{% raw %}{{msg_basic_nginx}}{% endraw %}</h2>
					<img src="../img/copy.png" width="16" height="16" class="icon_copy copy_text" data-id2copy="basic_nginx" title="{% raw %}{{msg_text_copy}}{% endraw %}" />
<textarea id="basic_nginx" class="code" readonly>
# WordPress single site rules.
# Designed to be included in any server {} block.

location / {
	# This is cool because no php is touched for static content.
	# Include the "?$args" part so non-default permalinks
	# doesn't break when using query string
	try_files $uri $uri/ /index.php?$args;
}
</textarea>

					<h2 class="title_textarea">{% raw %}{{msg_gzip}}{% endraw %}</h2>
					<img src="../img/copy.png" width="16" height="16" class="icon_copy copy_text" data-id2copy="gzip_nginx" title="{% raw %}{{msg_text_copy}}{% endraw %}" />
<textarea id="gzip_nginx" class="code" readonly>
gzip on;
gzip_comp_level 2;
gzip_http_version 1.0;
gzip_proxied any;
gzip_min_length 1100;
gzip_buffers 16 8k;
gzip_types text/plain text/html text/css application/x-javascript text/xml application/xml application/xml+rss text/javascript;

# Disable for IE < 6 because there are some known problems
gzip_disable "MSIE [1-6].(?!.*SV1)";

# Add a vary header for downstream proxies to avoid sending cached gzipped files to IE6
gzip_vary on;
</textarea>
			</div>

{% include "partials/footer.njk" -%}
